{% extends 'basemap.html' %}

{% block content %}

  <head>
    <title>Simple Map</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }

      /* Optional: Makes the sample page fill the window. */
          html,
          body {
            height: 100%;
            margin: 0;
            padding: 0;
          }
        </style>
        <script>
            let map;

            function initMap() {
                map = new google.maps.Map(document.getElementById("map"), {
                    center: {lat: 0.0, lng: 0.0},
                    zoom: 3,
                });
                var lat = Array();
                var lon = Array();
                var ip = Array();

                ip = {{ network|safe }};
                lat = ({{ lat|safe }});
                lon = {{ lon|safe }};

                for (var j = 0; j < ip.length; j++) {
                    var latUse = lat[j];
                    var lngUse = lon[j];

                    latUse = parseFloat(latUse);
                    lngUse = parseFloat(lngUse);

                    var myLatLng = {lat: latUse, lng: lngUse};

                    var marker = new google.maps.Marker({
                        position: myLatLng,
                        map,
                        title: ip[j],
                    });

                    // To add the marker to the map, call setMap();


                }
                marker.setMap(map);
            }
        </script>
      </head>
      <body>
        <div id="map"></div>

        <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
        <script
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCG9MOrb8kUbivw1tKrHSgM9NTqiXUmk_Y&callback=initMap&libraries=&v=weekly"
          async
        ></script>
      </body>
{% endblock %}
